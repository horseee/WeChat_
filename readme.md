## Weapp_BeautyBrain

### 项目目的
本小程序为**浙江大学欧莱雅校园义卖A-one团队**在2018校园义卖中使用的一款微信小程序，由团队成员Horseee独立开发完成。  
小程序包括**答题**和**社区**两个部分。

### 功能说明
* 美妆社区  
美妆社区的功能包括了基本的动态分享、查看和点赞功能，同时支持用户昵称的模糊搜索

* 答题  
支持在线用户的答题情况的实时更新，题目和正确答案在后台数据库中进行设置。每道题目的答题时间限10s。


### 测试说明
1. 已完成iphone系列手机的适配（除iphone6s的在答题界面上z-index无法正常显示）
2. 在小程序首轮内测中显示美妆社区部分无明显bug，android存在答题部分题目无法显示的问题


### 仍然存在的问题
1. 答题部分因为微信开发者工具在真机上的一个无法理解的bug，现在无法做到多客户端的同时播放（会出现不断重复一段内容，在pc端的模拟器上可以正常使用），最新的push中已将这一部分暂时删去（可以从之前的版本中看到这部分的源码，在live.js里）
2. 安卓系统的适配问题


### 后台
后台见repo Weapp-BeautyBrain-Server

### 微信小程序的坑
必须要做真机测试！！！微信开发者工具模拟出来的会和真机有非常大的差异，在本次开发过程中发现的坑有以下一些（均为模拟器上通过但是真机不行的）：  

1.  playbackgroundAudio这个api无法在ios端播放。自己写的music api能够在浏览器上面正常的播放，在微信开发者工具中也可正常播放，但是真机上面无声音，没有任何报错。最后解决方法是换成了audio组件就好了。
2.  canvas的z-index无法正确显示，仍然是在同一个z-index上面，覆盖先后关系不正确。同时z-index在iphone6s上会导致内容的相对位置出现无法理解的位置偏差
3.  真机测试上部分在本地的图片无法显示，需要丢到服务器上去
